PIC EQU 20H
PIO EQU 30H
N_F10 EQU 10

ORG 40
IP_F10 DW RUT_F10

ORG 3000H
RUT_F10: PUSH AX
IN AL, PIO+1
CMP AL, 0FFH
JZ RESTART
OR AL, DL ;Permite activar un LED sin desactivar los anteriores.
OUT PIO+1, AL
CALL ROTI
JMP FIN
RESTART: MOV AL, 0
OUT PIO+1, AL
MOV DL, 1
FIN: MOV AL, 20H
OUT PIC, AL
POP AX
IRET

ROTI:ADD   DL, DL
ADC   DL, 0
RET

ORG 2000H
CLI 
MOV AL, 0FEH
OUT PIC+1, AL
MOV AL, N_F10
OUT PIC+4, AL
MOV AL, 0
OUT PIO+3, AL
OUT PIO+1, AL
MOV DL, 1
STI 
LAZO: JMP LAZO
END