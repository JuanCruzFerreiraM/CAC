HAND EQU 40H
PIC EQU 20H
N_HDN EQU 10

ORG 40
IP_HND DW RUT_HDN

ORG 1000H
CADENA DB "Hola Gente COMO va Yo ando ACa"
fin db ?

ORG 3000H
SELECCIONADO: MOV DL, 0
CMP BYTE PTR [BX], 41H
JS FINAL
CMP BYTE PTR [BX], 5BH
JNS FINAL
MOV DL,1
FINAL: RET

RUT_HDN: PUSH AX
CALL SELECCIONADO
CMP DL, 1
JNZ NOIMP
MOV AL, [BX]
OUT HAND, AL
NOIMP: INC BX
DEC CL
MOV AL, 20H
OUT PIC, AL
POP AX
IRET




ORG 2000H
MOV BX, OFFSET CADENA
MOV CL, OFFSET FIN - OFFSET CADENA
CLI 
MOV AL, 0FBH
OUT PIC+1, AL
MOV AL, N_HDN
OUT PIC+6, AL
MOV AL, 0FFH
OUT HAND+1, AL
STI
LAZO: CMP CL, 0
JNZ LAZO
INT 0
END